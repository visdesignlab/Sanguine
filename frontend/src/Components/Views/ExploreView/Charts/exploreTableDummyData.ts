import { ExploreTableData } from '../../../../Types/application';

export type Row = {
  id: number;
  vent: number; // percent
  b12: number; // percent
  attending_provider: string; // array
  cases: number;
  // change to an array of samples
  drg_weight: number[]; // samples for violin plot
  percent_1_rbc: number;
  percent_2_rbc: number;
  percent_3_rbc: number;
  percent_4_rbc: number;
  percent_above_5_rbc: number;
  // new cost fields (now average cost per case)
  rbc_cost: number;
  ffp_cost: number;
  platelets_cost: number;
  cryo_cost: number;
  salvage_savings: number;
};

export const dummyData = [
  {
    id: 1,
    vent: 0,
    b12: 72,
    attending_provider: 'Dr. Smith',
    cases: 42,
    drg_weight: [0.9, 1.0, 1.05, 1.1, 0.95, 1.02, 1.12, 1.08, 1.0, 1.03],
    percent_1_rbc: 40,
    percent_2_rbc: 30,
    percent_3_rbc: 20,
    percent_4_rbc: 7,
    percent_above_5_rbc: 3,
    // average costs (per case)
    rbc_cost: 24,
    ffp_cost: 9,
    platelets_cost: 7,
    cryo_cost: 3,
    salvage_savings: 5,
  },
  {
    id: 2,
    vent: 85,
    b12: 72,
    attending_provider: 'Dr. Lee',
    cases: 42,
    drg_weight: [0.85, 0.9, 0.95, 1.0, 1.05, 0.92, 1.0, 1.08, 1.1, 0.96],
    percent_1_rbc: 30,
    percent_2_rbc: 25,
    percent_3_rbc: 20,
    percent_4_rbc: 15,
    percent_above_5_rbc: 10,
    rbc_cost: 23,
    ffp_cost: 9,
    platelets_cost: 8,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  {
    id: 3,
    vent: 12,
    b12: 8,
    attending_provider: 'Dr. Patel',
    cases: 5,
    drg_weight: [1.2, 1.28, 1.35, 1.3, 1.25, 1.38, 1.32, 1.27],
    percent_1_rbc: 0,
    percent_2_rbc: 50,
    percent_3_rbc: 0,
    percent_4_rbc: 50,
    percent_above_5_rbc: 0,
    rbc_cost: 35,
    ffp_cost: 14,
    platelets_cost: 11,
    cryo_cost: 6,
    salvage_savings: 8,
  },
  {
    id: 4,
    vent: 55,
    b12: 60,
    attending_provider: 'Dr. Gomez',
    cases: 18,
    drg_weight: [0.95, 1.0, 1.05, 1.1, 1.12, 1.08, 1.02, 0.98],
    percent_1_rbc: 20,
    percent_2_rbc: 20,
    percent_3_rbc: 10,
    percent_4_rbc: 10,
    percent_above_5_rbc: 0,
    rbc_cost: 26,
    ffp_cost: 10,
    platelets_cost: 8,
    cryo_cost: 4,
    salvage_savings: 6,
  },
  {
    id: 5,
    vent: 55,
    b12: 60,
    attending_provider: 'Dr. Park',
    cases: 18,
    drg_weight: [0.9, 0.97, 1.02, 1.07, 1.12, 0.95, 1.0, 1.05, 1.1],
    percent_1_rbc: 18,
    percent_2_rbc: 25,
    percent_3_rbc: 18,
    percent_4_rbc: 10,
    percent_above_5_rbc: 9,
    rbc_cost: 25,
    ffp_cost: 9,
    platelets_cost: 8,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  {
    id: 6,
    vent: 55,
    b12: 60,
    attending_provider: 'Dr. Huang',
    cases: 18,
    drg_weight: [0.88, 0.93, 0.99, 1.03, 1.06, 1.09, 0.95, 1.0, 1.04],
    percent_1_rbc: 33,
    percent_2_rbc: 33,
    percent_3_rbc: 34,
    percent_4_rbc: 0,
    percent_above_5_rbc: 0,
    rbc_cost: 24,
    ffp_cost: 9,
    platelets_cost: 8,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  {
    id: 7,
    vent: 98,
    b12: 93,
    attending_provider: 'Dr. Nguyen',
    cases: 120,
    drg_weight: [0.82, 0.88, 0.9, 0.95, 1.0, 0.92, 0.98, 0.96, 0.94, 0.9],
    percent_1_rbc: 28,
    percent_2_rbc: 28,
    percent_3_rbc: 22,
    percent_4_rbc: 12,
    percent_above_5_rbc: 10,
    // higher volume -> slightly lower average costs
    rbc_cost: 18,
    ffp_cost: 7,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 8,
    vent: 30,
    b12: 40,
    attending_provider: 'Dr. Alvarez',
    cases: 9,
    drg_weight: [1.1, 1.2, 1.25, 1.18, 1.22, 1.16, 1.3, 1.12],
    percent_1_rbc: 33,
    percent_2_rbc: 0,
    percent_3_rbc: 33,
    percent_4_rbc: 34,
    percent_above_5_rbc: 0,
    rbc_cost: 30,
    ffp_cost: 12,
    platelets_cost: 10,
    cryo_cost: 5,
    salvage_savings: 6,
  },
  {
    id: 9,
    vent: 30,
    b12: 40,
    attending_provider: 'Dr. Chen',
    cases: 9,
    drg_weight: [1.05, 1.12, 1.18, 1.2, 1.15, 1.1, 1.14],
    percent_1_rbc: 0,
    percent_2_rbc: 0,
    percent_3_rbc: 0,
    percent_4_rbc: 11,
    percent_above_5_rbc: 0,
    rbc_cost: 29,
    ffp_cost: 11,
    platelets_cost: 9,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  // additional synthetic records (costs as averages; higher-volume surgeons slightly cheaper)
  {
    id: 10,
    vent: 67,
    b12: 70,
    attending_provider: 'Dr. Rivera',
    cases: 36,
    drg_weight: [0.9, 0.96, 1.0, 1.04, 1.08, 0.92, 0.98, 1.02, 1.06],
    percent_1_rbc: 25,
    percent_2_rbc: 20,
    percent_3_rbc: 30,
    percent_4_rbc: 15,
    percent_above_5_rbc: 10,
    rbc_cost: 22,
    ffp_cost: 9,
    platelets_cost: 8,
    cryo_cost: 3,
    salvage_savings: 5,
  },
  {
    id: 11,
    vent: 45,
    b12: 50,
    attending_provider: 'Dr. Johnson',
    cases: 22,
    drg_weight: [0.92, 0.98, 1.05, 1.1, 1.12, 1.0, 1.08, 1.04],
    percent_1_rbc: 40,
    percent_2_rbc: 30,
    percent_3_rbc: 10,
    percent_4_rbc: 15,
    percent_above_5_rbc: 5,
    rbc_cost: 21,
    ffp_cost: 8,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 12,
    vent: 12,
    b12: 20,
    attending_provider: 'Dr. Williams',
    cases: 7,
    drg_weight: [1.25, 1.32, 1.38, 1.4, 1.35, 1.3, 1.28],
    percent_1_rbc: 0,
    percent_2_rbc: 60,
    percent_3_rbc: 40,
    percent_4_rbc: 0,
    percent_above_5_rbc: 0,
    rbc_cost: 32,
    ffp_cost: 13,
    platelets_cost: 10,
    cryo_cost: 5,
    salvage_savings: 6,
  },
  {
    id: 13,
    vent: 90,
    b12: 88,
    attending_provider: 'Dr. Brown',
    cases: 80,
    drg_weight: [0.88, 0.92, 0.96, 1.0, 1.02, 1.06, 0.98, 0.94, 1.04],
    percent_1_rbc: 35,
    percent_2_rbc: 30,
    percent_3_rbc: 20,
    percent_4_rbc: 10,
    percent_above_5_rbc: 5,
    rbc_cost: 19,
    ffp_cost: 8,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 14,
    vent: 20,
    b12: 18,
    attending_provider: 'Dr. Davis',
    cases: 6,
    drg_weight: [1.3, 1.35, 1.4, 1.28, 1.24, 1.32, 1.36],
    percent_1_rbc: 0,
    percent_2_rbc: 0,
    percent_3_rbc: 80,
    percent_4_rbc: 20,
    percent_above_5_rbc: 0,
    rbc_cost: 34,
    ffp_cost: 14,
    platelets_cost: 11,
    cryo_cost: 6,
    salvage_savings: 8,
  },
  {
    id: 15,
    vent: 75,
    b12: 64,
    attending_provider: 'Dr. Miller',
    cases: 48,
    drg_weight: [0.9, 0.95, 1.0, 1.05, 1.08, 1.02, 0.98, 1.1],
    percent_1_rbc: 30,
    percent_2_rbc: 25,
    percent_3_rbc: 20,
    percent_4_rbc: 15,
    percent_above_5_rbc: 10,
    rbc_cost: 20,
    ffp_cost: 8,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 16,
    vent: 58,
    b12: 55,
    attending_provider: 'Dr. Wilson',
    cases: 28,
    drg_weight: [0.92, 0.96, 1.0, 1.05, 1.1, 1.12, 1.08, 1.04],
    percent_1_rbc: 22,
    percent_2_rbc: 22,
    percent_3_rbc: 22,
    percent_4_rbc: 18,
    percent_above_5_rbc: 16,
    rbc_cost: 22,
    ffp_cost: 9,
    platelets_cost: 7,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  {
    id: 17,
    vent: 33,
    b12: 36,
    attending_provider: 'Dr. Moore',
    cases: 12,
    drg_weight: [0.98, 1.02, 1.06, 1.12, 1.18, 1.22, 1.1],
    percent_1_rbc: 50,
    percent_2_rbc: 30,
    percent_3_rbc: 10,
    percent_4_rbc: 10,
    percent_above_5_rbc: 0,
    rbc_cost: 27,
    ffp_cost: 11,
    platelets_cost: 9,
    cryo_cost: 5,
    salvage_savings: 6,
  },
  {
    id: 18,
    vent: 82,
    b12: 79,
    attending_provider: 'Dr. Taylor',
    cases: 64,
    drg_weight: [0.86, 0.9, 0.94, 0.98, 1.0, 0.96, 1.02, 1.04, 0.92],
    percent_1_rbc: 30,
    percent_2_rbc: 25,
    percent_3_rbc: 20,
    percent_4_rbc: 15,
    percent_above_5_rbc: 10,
    rbc_cost: 18,
    ffp_cost: 7,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 19,
    vent: 14,
    b12: 10,
    attending_provider: 'Dr. Anderson',
    cases: 4,
    drg_weight: [1.3, 1.36, 1.4, 1.44, 1.38, 1.32, 1.28],
    percent_1_rbc: 0,
    percent_2_rbc: 75,
    percent_3_rbc: 0,
    percent_4_rbc: 25,
    percent_above_5_rbc: 0,
    rbc_cost: 36,
    ffp_cost: 15,
    platelets_cost: 12,
    cryo_cost: 6,
    salvage_savings: 9,
  },
  {
    id: 20,
    vent: 49,
    b12: 52,
    attending_provider: 'Dr. Thomas',
    cases: 20,
    drg_weight: [0.94, 0.98, 1.02, 1.06, 1.1, 1.04, 1.08, 1.12],
    percent_1_rbc: 30,
    percent_2_rbc: 30,
    percent_3_rbc: 20,
    percent_4_rbc: 10,
    percent_above_5_rbc: 10,
    rbc_cost: 23,
    ffp_cost: 9,
    platelets_cost: 7,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 21,
    vent: 71,
    b12: 68,
    attending_provider: 'Dr. Jackson',
    cases: 44,
    drg_weight: [0.9, 0.94, 0.98, 1.02, 1.06, 1.0, 1.04, 1.08],
    percent_1_rbc: 28,
    percent_2_rbc: 26,
    percent_3_rbc: 24,
    percent_4_rbc: 12,
    percent_above_5_rbc: 10,
    rbc_cost: 22,
    ffp_cost: 9,
    platelets_cost: 7,
    cryo_cost: 3,
    salvage_savings: 5,
  },
  {
    id: 22,
    vent: 27,
    b12: 30,
    attending_provider: 'Dr. White',
    cases: 11,
    drg_weight: [1.12, 1.18, 1.22, 1.2, 1.16, 1.14, 1.24],
    percent_1_rbc: 10,
    percent_2_rbc: 60,
    percent_3_rbc: 10,
    percent_4_rbc: 20,
    percent_above_5_rbc: 0,
    rbc_cost: 28,
    ffp_cost: 11,
    platelets_cost: 9,
    cryo_cost: 5,
    salvage_savings: 6,
  },
  {
    id: 23,
    vent: 94,
    b12: 90,
    attending_provider: 'Dr. Harris',
    cases: 95,
    drg_weight: [0.84, 0.88, 0.92, 0.96, 1.0, 0.94, 0.98, 0.9],
    percent_1_rbc: 40,
    percent_2_rbc: 30,
    percent_3_rbc: 15,
    percent_4_rbc: 10,
    percent_above_5_rbc: 5,
    rbc_cost: 18,
    ffp_cost: 7,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 24,
    vent: 38,
    b12: 35,
    attending_provider: 'Dr. Martin',
    cases: 15,
    drg_weight: [0.96, 1.0, 1.04, 1.08, 1.1, 1.06, 1.02, 0.98],
    percent_1_rbc: 40,
    percent_2_rbc: 30,
    percent_3_rbc: 20,
    percent_4_rbc: 5,
    percent_above_5_rbc: 5,
    rbc_cost: 26,
    ffp_cost: 10,
    platelets_cost: 8,
    cryo_cost: 4,
    salvage_savings: 5,
  },
  {
    id: 25,
    vent: 60,
    b12: 58,
    attending_provider: 'Dr. Thompson',
    cases: 34,
    drg_weight: [0.92, 0.96, 1.0, 1.04, 1.06, 1.08, 1.02, 0.98],
    percent_1_rbc: 30,
    percent_2_rbc: 25,
    percent_3_rbc: 20,
    percent_4_rbc: 15,
    percent_above_5_rbc: 10,
    rbc_cost: 21,
    ffp_cost: 8,
    platelets_cost: 6,
    cryo_cost: 3,
    salvage_savings: 4,
  },
  {
    id: 26,
    vent: 52,
    b12: 48,
    attending_provider: 'Dr. Garcia',
    cases: 26,
    drg_weight: [0.95, 1.0, 1.02, 1.07, 1.12, 0.98, 1.05, 1.1, 1.03, 1.08],
    percent_1_rbc: 24,
    percent_2_rbc: 24,
    percent_3_rbc: 22,
    percent_4_rbc: 18,
    percent_above_5_rbc: 12,
    rbc_cost: 22,
    ffp_cost: 9,
    platelets_cost: 7,
    cryo_cost: 4,
    salvage_savings: 5,
  },
] as ExploreTableData;

export const dummyDataTwoVals: ExploreTableData = dummyData.map((row) => {
  const newRow: any = { ...row };
  Object.keys(row).forEach((key) => {
    if (key === 'id' || key === 'attending_provider') return;

    const val = row[key];
    if (Array.isArray(val)) {
      // Split array into two for violin (simulating two datasets)
      const mid = Math.ceil(val.length / 2);
      // Ensure we have arrays even if empty
      const arr = val as number[];
      newRow[key] = [arr.slice(0, mid), arr.slice(mid)];
    } else if (typeof val === 'number') {
      // Create two values for numeric
      // value 1 is roughly 60%, value 2 is 40% or slightly different to show contrast
      // For percentages, we just vary them slightly
      const v1 = key.includes('percent') ? Math.min(100, Math.floor(val * 1.1)) : Math.floor(val * 0.6);
      const v2 = key.includes('percent') ? Math.max(0, Math.floor(val * 0.9)) : Math.ceil(val * 0.4);
      newRow[key] = [v1, v2];
    }
  });
  return newRow;
});
